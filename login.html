<!DOCTYPE html>
<html lang="en">
<head>
    <meta name="author" content="Adi Sapre (ads4dv) and Thomas Davis (tad8tt)">
    <link href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.0/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css">
    <!--- used bootstrap buttons and inputs on this page --->
    <script src="js/login.js"></script>
    <link rel="stylesheet" href="styles/login.css">
    <meta charset="UTF-8">
    <title>Login Page</title>

</head>

<body>
<div class="row">
<div class="centerer">
<img src="img/churn.jpeg" height="80" width="80">
</div>
</div>
<!--- create container row-->
<div class="container">
    <div class="row">
        <div class="col-md-6 col-md-offset-3">
            <div class="panel panel-login">
                <div class="panel-heading">
                    <div class="row">
                        <div class="col-xs-6">
                            <a href="#" class="active" onclick="activateLogin()" id="login-form-link">Login</a>
                        </div>
                        <div class="col-xs-6">
                            <a href="#" class="#" onclick= "activateRegister()" id="register-form-link">Register</a>
                        </div>
                    </div>
                    <hr>
                </div>
                <div class="panel-body">
                    <div class="row">
                        <div class="col-lg-12">
                            <form name= "login-form" id="login-form" class = "tab" role="form" action="php/login.php" method="post" style="display: block;"><!--- login form content-->
                                <div class="form-group">
                                    <input type="text" name="username" id="username"  class="form-control" placeholder="Username" value="">
                                </div>
                                <span class="error" id="username-note"></span>
                                <div class="form-group">
                                    <input type="password"  name="password" id="password"  class="form-control" placeholder="Password">
                                </div>
                                <span class="error" id="password-note"></span>
                                <div class="form-group text-center">
                                    <input type="checkbox" class=""  id="remember">
                                    <label for="remember"> Remember Me</label>
                                </div>
                                <div class="form-group">
                                    <div class="row">
                                        <div class="col-sm-6 col-sm-offset-3">
                                            <!--input validation then redirect for login-->
                                            <script>
                                                function validateLogin() {
                                                    var loginUser= document.forms["login-form"]["username"].value;
                                                    var loginPass = document.forms["login-form"]["password"].value;
                                                    if (loginUser == ""){
                                                        alert("You must input your Username")
                                                        return false
                                                    }
                                                    if (loginPass == "" ){
                                                        alert("You must input your Password")
                                                        return false
                                                    }
                                                    /*setTimeout(function () {
                                                        window.location = "index.html"

                                                    })*/
                                                };
                                            </script>
                                            <input type="submit"  id="login-submit" class="form-control btn btn-login" value="Log In" onclick= "return validateLogin();">
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <div class="row">
                                        <div class="col-lg-12">
                                            <div class="text-center">
                                                <a href="" class="forgot-password">Forgot Password?</a>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </form>
                            <form id="register-form"  action="php/register.php" method = "post" name="register-form" class = "tab" role="form" style="display: none;"><!--- register view-->
                                <div class="form-group">
                                    <input type="text" name= "usernamereg" id="usernamereg"  class="form-control" placeholder="Username" value="">
                                </div>
                                <span class="error" id="username-note-reg"></span>
                                <div class="form-group">
                                    <input type="email" name="email" id="email" class="form-control" placeholder="Email Address" value="">
                                </div>
                                <span class="error" id="email-note"></span>
                                <div class="form-group">
                                    <input type="password" name= "passwordreg" id="passwordreg"  class="form-control" placeholder="Password">
                                </div>
                                <span class="error" id="password-note-login"></span>
                                <div class="form-group">
                                    <input type="password"  name="confirm-password" id="confirm-password"  class="form-control" placeholder="Confirm Password">
                                </div>
                                <span class="error" id="password-note-confirmation"></span>
                                <div class="form-group">
                                    <div class="row">
                                        <div class="col-sm-6 col-sm-offset-3">
                                            <script>
                                                //function to validate registration information
                                                function validateReg() {
                                                    var regUser= document.forms["register-form"]["usernamereg"].value;
                                                    var regEmail = document.forms["register-form"]["email"].value;
                                                    var regPass = document.forms["register-form"]["passwordreg"].value;
                                                    var regPassConfirm = document.forms["register-form"]["confirm-password"].value;
                                                    var mailformat = /^([a-zA-Z0-9_.-])+@([a-zA-Z0-9_.-])+.([a-zA-Z])+([a-zA-Z])+/;
                                                    if (regUser == ""){
                                                        alert("You must input your Username")
                                                        return false
                                                    }
                                                    if (regEmail.match(mailformat) == null){
                                                        console.log(regEmail.match(mailformat));
                                                        alert("You must input a valid email")
                                                        return false
                                                    }
                                                    if (regPass == ""){
                                                        alert("You must include your Password")
                                                        return false
                                                    }
                                                    if (regPass != regPassConfirm){
                                                        alert("Password Confirmation does not match. Please Check and try again. ")
                                                        return false
                                                    }
                                                    /*
                                                    setTimeout(function () {
                                                        window.location = "index.html"
                                                    })
                                                    */
                                                };
                                            </script>
                                            <input type="submit"  id="register-submit"  class="form-control btn btn-register" value="Register Now" onclick="return validateReg();">
                                        </div>
                                    </div>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
</body>
</html>